{
  "version": 3,
  "sources": ["../../json-stringify-pretty-compact/index.js"],
  "sourcesContent": ["// Note: This regex matches even invalid JSON strings, but since we’re\n// working on the output of `JSON.stringify` we know that only valid strings\n// are present (unless the user supplied a weird `options.indent` but in\n// that case we don’t care since the output would be invalid anyway).\nconst stringOrChar = /(\"(?:[^\\\\\"]|\\\\.)*\")|[:,]/g;\n\nexport default function stringify(passedObj, options = {}) {\n  const indent = JSON.stringify(\n    [1],\n    undefined,\n    options.indent === undefined ? 2 : options.indent\n  ).slice(2, -3);\n\n  const maxLength =\n    indent === \"\"\n      ? Infinity\n      : options.maxLength === undefined\n      ? 80\n      : options.maxLength;\n\n  let { replacer } = options;\n\n  return (function _stringify(obj, currentIndent, reserved) {\n    if (obj && typeof obj.toJSON === \"function\") {\n      obj = obj.toJSON();\n    }\n\n    const string = JSON.stringify(obj, replacer);\n\n    if (string === undefined) {\n      return string;\n    }\n\n    const length = maxLength - currentIndent.length - reserved;\n\n    if (string.length <= length) {\n      const prettified = string.replace(\n        stringOrChar,\n        (match, stringLiteral) => {\n          return stringLiteral || `${match} `;\n        }\n      );\n      if (prettified.length <= length) {\n        return prettified;\n      }\n    }\n\n    if (replacer != null) {\n      obj = JSON.parse(string);\n      replacer = undefined;\n    }\n\n    if (typeof obj === \"object\" && obj !== null) {\n      const nextIndent = currentIndent + indent;\n      const items = [];\n      let index = 0;\n      let start;\n      let end;\n\n      if (Array.isArray(obj)) {\n        start = \"[\";\n        end = \"]\";\n        const { length } = obj;\n        for (; index < length; index++) {\n          items.push(\n            _stringify(obj[index], nextIndent, index === length - 1 ? 0 : 1) ||\n              \"null\"\n          );\n        }\n      } else {\n        start = \"{\";\n        end = \"}\";\n        const keys = Object.keys(obj);\n        const { length } = keys;\n        for (; index < length; index++) {\n          const key = keys[index];\n          const keyPart = `${JSON.stringify(key)}: `;\n          const value = _stringify(\n            obj[key],\n            nextIndent,\n            keyPart.length + (index === length - 1 ? 0 : 1)\n          );\n          if (value !== undefined) {\n            items.push(keyPart + value);\n          }\n        }\n      }\n\n      if (items.length > 0) {\n        return [start, indent + items.join(`,\\n${nextIndent}`), end].join(\n          `\\n${currentIndent}`\n        );\n      }\n    }\n\n    return string;\n  })(passedObj, \"\", 0);\n}\n"],
  "mappings": ";;;AAIA,IAAM,eAAe;AAEN,SAAR,UAA2B,WAAW,UAAU,CAAC,GAAG;AACzD,QAAM,SAAS,KAAK;AAAA,IAClB,CAAC,CAAC;AAAA,IACF;AAAA,IACA,QAAQ,WAAW,SAAY,IAAI,QAAQ;AAAA,EAC7C,EAAE,MAAM,GAAG,EAAE;AAEb,QAAM,YACJ,WAAW,KACP,WACA,QAAQ,cAAc,SACtB,KACA,QAAQ;AAEd,MAAI,EAAE,SAAS,IAAI;AAEnB,SAAQ,SAAS,WAAW,KAAK,eAAe,UAAU;AACxD,QAAI,OAAO,OAAO,IAAI,WAAW,YAAY;AAC3C,YAAM,IAAI,OAAO;AAAA,IACnB;AAEA,UAAM,SAAS,KAAK,UAAU,KAAK,QAAQ;AAE3C,QAAI,WAAW,QAAW;AACxB,aAAO;AAAA,IACT;AAEA,UAAM,SAAS,YAAY,cAAc,SAAS;AAElD,QAAI,OAAO,UAAU,QAAQ;AAC3B,YAAM,aAAa,OAAO;AAAA,QACxB;AAAA,QACA,CAAC,OAAO,kBAAkB;AACxB,iBAAO,iBAAiB,GAAG;AAAA,QAC7B;AAAA,MACF;AACA,UAAI,WAAW,UAAU,QAAQ;AAC/B,eAAO;AAAA,MACT;AAAA,IACF;AAEA,QAAI,YAAY,MAAM;AACpB,YAAM,KAAK,MAAM,MAAM;AACvB,iBAAW;AAAA,IACb;AAEA,QAAI,OAAO,QAAQ,YAAY,QAAQ,MAAM;AAC3C,YAAM,aAAa,gBAAgB;AACnC,YAAM,QAAQ,CAAC;AACf,UAAI,QAAQ;AACZ,UAAI;AACJ,UAAI;AAEJ,UAAI,MAAM,QAAQ,GAAG,GAAG;AACtB,gBAAQ;AACR,cAAM;AACN,cAAM,EAAE,QAAAA,QAAO,IAAI;AACnB,eAAO,QAAQA,SAAQ,SAAS;AAC9B,gBAAM;AAAA,YACJ,WAAW,IAAI,KAAK,GAAG,YAAY,UAAUA,UAAS,IAAI,IAAI,CAAC,KAC7D;AAAA,UACJ;AAAA,QACF;AAAA,MACF,OAAO;AACL,gBAAQ;AACR,cAAM;AACN,cAAM,OAAO,OAAO,KAAK,GAAG;AAC5B,cAAM,EAAE,QAAAA,QAAO,IAAI;AACnB,eAAO,QAAQA,SAAQ,SAAS;AAC9B,gBAAM,MAAM,KAAK,KAAK;AACtB,gBAAM,UAAU,GAAG,KAAK,UAAU,GAAG;AACrC,gBAAM,QAAQ;AAAA,YACZ,IAAI,GAAG;AAAA,YACP;AAAA,YACA,QAAQ,UAAU,UAAUA,UAAS,IAAI,IAAI;AAAA,UAC/C;AACA,cAAI,UAAU,QAAW;AACvB,kBAAM,KAAK,UAAU,KAAK;AAAA,UAC5B;AAAA,QACF;AAAA,MACF;AAEA,UAAI,MAAM,SAAS,GAAG;AACpB,eAAO,CAAC,OAAO,SAAS,MAAM,KAAK;AAAA,EAAM,YAAY,GAAG,GAAG,EAAE;AAAA,UAC3D;AAAA,EAAK;AAAA,QACP;AAAA,MACF;AAAA,IACF;AAEA,WAAO;AAAA,EACT,EAAG,WAAW,IAAI,CAAC;AACrB;",
  "names": ["length"]
}
