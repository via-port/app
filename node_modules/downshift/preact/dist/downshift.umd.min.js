!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","preact","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Downshift={},e.preact,e.PropTypes)}(this,(function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=i(n);function r(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var a={},d=60103,c=60106,p=60107,f=60108,g=60114,h=60109,m=60110,I=60112,v=60113,y=60120,x=60115,b=60116,w=60121,S=60122,k=60117,C=60129,O=60131;
/** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */if("function"==typeof Symbol&&Symbol.for){var M=Symbol.for;d=M("react.element"),c=M("react.portal"),p=M("react.fragment"),f=M("react.strict_mode"),g=M("react.profiler"),h=M("react.provider"),m=M("react.context"),I=M("react.forward_ref"),v=M("react.suspense"),y=M("react.suspense_list"),x=M("react.memo"),b=M("react.lazy"),w=M("react.block"),S=M("react.server.block"),k=M("react.fundamental"),C=M("react.debug_trace_mode"),O=M("react.legacy_hidden")}function D(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case d:switch(e=e.type){case p:case g:case f:case v:case y:return e;default:switch(e=e&&e.$$typeof){case m:case I:case b:case x:case h:return e;default:return t}}case c:return t}}}var E=h,K=d,P=I,T=p,R=b,H=x,F=c,V=g,N=f,A=v;a.ContextConsumer=m,a.ContextProvider=E,a.Element=K,a.ForwardRef=P,a.Fragment=T,a.Lazy=R,a.Memo=H,a.Portal=F,a.Profiler=V,a.StrictMode=N,a.Suspense=A,a.isAsyncMode=function(){return!1},a.isConcurrentMode=function(){return!1},a.isContextConsumer=function(e){return D(e)===m},a.isContextProvider=function(e){return D(e)===h},a.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===d},a.isForwardRef=function(e){return D(e)===I},a.isFragment=function(e){return D(e)===p},a.isLazy=function(e){return D(e)===b},a.isMemo=function(e){return D(e)===x},a.isPortal=function(e){return D(e)===c},a.isProfiler=function(e){return D(e)===g},a.isStrictMode=function(e){return D(e)===f},a.isSuspense=function(e){return D(e)===v},a.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===p||e===g||e===C||e===f||e===v||e===y||e===O||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===x||e.$$typeof===h||e.$$typeof===m||e.$$typeof===I||e.$$typeof===k||e.$$typeof===w||e[0]===S)},a.typeOf=D;let B=e=>"object"==typeof e&&null!=e&&1===e.nodeType,L=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,_=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return L(n.overflowY,t)||L(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},j=(e,t,n,i,o,r,u,s)=>r<e&&u>t||r>e&&u<t?0:r<=e&&s<=n||u>=t&&s>=n?r-e-i:u>t&&s<n||r<e&&s>n?u-t+o:0,U=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t};var $=(e,t)=>{var n,i,o,r,u,s;if("undefined"==typeof document)return[];let{scrollMode:l,block:a,inline:d,boundary:c,skipOverflowHiddenElements:p}=t,f="function"==typeof c?c:e=>e!==c;if(!B(e))throw new TypeError("Invalid target");let g=document.scrollingElement||document.documentElement,h=[],m=e;for(;B(m)&&f(m);){if(m=U(m),m===g){h.push(m);break}null!=m&&m===document.body&&_(m)&&!_(document.documentElement)||null!=m&&_(m,p)&&h.push(m)}let I=null!=(i=null==(n=window.visualViewport)?void 0:n.width)?i:innerWidth,v=null!=(r=null==(o=window.visualViewport)?void 0:o.height)?r:innerHeight,y=null!=(u=window.scrollX)?u:pageXOffset,x=null!=(s=window.scrollY)?s:pageYOffset,{height:b,width:w,top:S,right:k,bottom:C,left:O}=e.getBoundingClientRect(),M="start"===a||"nearest"===a?S:"end"===a?C:S+b/2,D="center"===d?O+w/2:"end"===d?k:O,E=[];for(let e=0;e<h.length;e++){let t=h[e],{height:n,width:i,top:o,right:r,bottom:u,left:s}=t.getBoundingClientRect();if("if-needed"===l&&S>=0&&O>=0&&C<=v&&k<=I&&S>=o&&C<=u&&O>=s&&k<=r)return E;let c=getComputedStyle(t),p=parseInt(c.borderLeftWidth,10),f=parseInt(c.borderTopWidth,10),m=parseInt(c.borderRightWidth,10),K=parseInt(c.borderBottomWidth,10),P=0,T=0,R="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-m:0,H="offsetHeight"in t?t.offsetHeight-t.clientHeight-f-K:0,F="offsetWidth"in t?0===t.offsetWidth?0:i/t.offsetWidth:0,V="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(g===t)P="start"===a?M:"end"===a?M-v:"nearest"===a?j(x,x+v,v,f,K,x+M,x+M+b,b):M-v/2,T="start"===d?D:"center"===d?D-I/2:"end"===d?D-I:j(y,y+I,I,p,m,y+D,y+D+w,w),P=Math.max(0,P+x),T=Math.max(0,T+y);else{P="start"===a?M-o-f:"end"===a?M-u+K+H:"nearest"===a?j(o,u,n,f,K+H,M,M+b,b):M-(o+n/2)+H/2,T="start"===d?D-s-p:"center"===d?D-(s+i/2)+R/2:"end"===d?D-r+m+R:j(s,r,i,p,m+R,D,D+w,w);let{scrollLeft:e,scrollTop:l}=t;P=Math.max(0,Math.min(l+P/V,t.scrollHeight-n/V+H)),T=Math.max(0,Math.min(e+T/F,t.scrollWidth-i/F+R)),M+=l-P,D+=e-T}E.push({el:t,top:P,left:T})}return E},W=0;function z(e){return"function"==typeof e?e:q}function q(){}function X(e,t){e&&$(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach((function(e){var t=e.el,n=e.top,i=e.left;t.scrollTop=n,t.scrollLeft=i}))}function Y(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function G(e,t){var n;function i(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];i(),n=setTimeout((function(){n=null,e.apply(void 0,r)}),t)}return o.cancel=i,o}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some((function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function Z(){return String(W++)}function ee(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function te(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var ne=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function ie(e){void 0===e&&(e={});var t={};return ne.forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function oe(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=re(t,i)?t[i]:e[i],n}),{})}function re(e,t){return void 0!==e[t]}function ue(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function se(e,t,n,i,o){if(void 0===o&&(o=!0),0===n)return-1;var r=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:r+1);var u=t+e;u<0?u=o?r:0:u>r&&(u=o?0:r);var s=le(e,u,n,i,o);return-1===s?t>=n?-1:t:s}function le(e,t,n,i,o){var r=i(t);if(!r||!r.hasAttribute("disabled"))return t;if(e>0){for(var u=t+1;u<n;u++)if(!i(u).hasAttribute("disabled"))return u}else for(var s=t-1;s>=0;s--)if(!i(s).hasAttribute("disabled"))return s;return o?e>0?le(1,0,n,i,!1):le(-1,n-1,n,i,!1):-1}function ae(e,t,n,i){return void 0===i&&(i=!0),t.some((function(t){return t&&(Y(t,e,n)||i&&Y(t,n.document.activeElement,n))}))}var de=G((function(e){pe(e).textContent=""}),500);function ce(e,t){var n=pe(t);e&&(n.textContent=e,de(t))}function pe(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var fe=0,ge=2,he=3,me=4,Ie=5,ve=6,ye=7,xe=8,be=9,we=10,Se=11,ke=12,Ce=13,Oe=14,Me=Object.freeze({__proto__:null,unknown:fe,mouseUp:1,itemMouseEnter:ge,keyDownArrowUp:he,keyDownArrowDown:me,keyDownEscape:Ie,keyDownEnter:ve,keyDownHome:ye,keyDownEnd:xe,clickItem:be,blurInput:we,changeInput:Se,keyDownSpaceButton:ke,clickButton:Ce,blurButton:Oe,controlledPropUpdatedSelectedItem:15,touchEnd:16}),De=["refKey","ref"],Ee=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Ke=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Pe=["refKey","ref"],Te=["onMouseMove","onMouseDown","onClick","onPress","index","item"],Re=function(){var e=function(e){var n,i;function o(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+Z(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.input=null,n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var i=setTimeout((function(){n.timeoutIds=n.timeoutIds.filter((function(e){return e!==i})),e()}),t);n.timeoutIds.push(i)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=ie(t),n.internalSetState(u({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,i){t=ie(t),n.internalSetState(u({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),i)},n.selectItemAtIndex=function(e,t,i){var o=n.items[e];null!=o&&n.selectItem(o,t,i)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var i,o,r={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,u({},n.getStateAndHelpers(),e)),n.setState((function(t){t=n.getState(t);var l=s?e(t):e;l=n.props.stateReducer(t,l),i=l.hasOwnProperty("selectedItem");var a={};return i&&l.selectedItem!==t.selectedItem&&(o=l.selectedItem),l.type=l.type||fe,Object.keys(l).forEach((function(e){t[e]!==l[e]&&(r[e]=l[e]),"type"!==e&&(l[e],re(n.props,e)||(a[e]=l[e]))})),s&&l.hasOwnProperty("inputValue")&&n.props.onInputValueChange(l.inputValue,u({},n.getStateAndHelpers(),l)),a}),(function(){z(t)(),Object.keys(r).length>1&&n.props.onStateChange(r,n.getStateAndHelpers()),i&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==o&&n.props.onChange(o,n.getStateAndHelpers()),n.props.onUserAction(r,n.getStateAndHelpers())}))},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var i,o=void 0===e?{}:e,s=o.refKey,l=void 0===s?"ref":s,a=o.ref,d=r(o,De),c=(void 0===t?{}:t).suppressRefError,p=void 0!==c&&c;n.getRootProps.called=!0,n.getRootProps.refKey=l,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return u(((i={})[l]=Q(a,n.rootRef),i.role="combobox",i["aria-expanded"]=f,i["aria-haspopup"]="listbox",i["aria-owns"]=f?n.menuId:null,i["aria-labelledby"]=n.labelId,i),d)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:me})}else this.internalSetState({isOpen:!0,type:me},(function(){var e=t.getItemCount();if(e>0){var n=se(1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:me})}}))},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:he})}else this.internalSetState({isOpen:!0,type:he},(function(){var e=t.getItemCount();if(e>0){var n=se(-1,t.getState().highlightedIndex,e,(function(e){return t.getItemNodeFromIndex(e)}));t.setHighlightedIndex(n,{type:he})}}))},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,i=t.highlightedIndex;if(n&&null!=i){e.preventDefault();var o=this.items[i],r=this.getItemNodeFromIndex(i);if(null==o||r&&r.hasAttribute("disabled"))return;this.selectHighlightedItem({type:ve})}}},Escape:function(e){e.preventDefault(),this.reset(u({type:Ie},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=u({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:ke})}}),n.inputKeyDownHandlers=u({},n.keyDownHandlers,{Home:function(e){var t=this,n=this.getState().isOpen;if(n){e.preventDefault();var i=this.getItemCount();if(!(i<=0)&&n){var o=le(1,0,i,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:ye})}}},End:function(e){var t=this,n=this.getState().isOpen;if(n){e.preventDefault();var i=this.getItemCount();if(!(i<=0)&&n){var o=le(-1,i-1,i,(function(e){return t.getItemNodeFromIndex(e)}),!1);this.setHighlightedIndex(o,{type:xe})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,i=t.onClick;t.onPress;var o=t.onKeyDown,s=t.onKeyUp,l=t.onBlur,a=r(t,Ee),d=n.getState().isOpen,c={onClick:J(i,n.buttonHandleClick),onKeyDown:J(o,n.buttonHandleKeyDown),onKeyUp:J(s,n.buttonHandleKeyUp),onBlur:J(l,n.buttonHandleBlur)};return u({type:"button",role:"button","aria-label":d?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},a.disabled?{}:c,a)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=ue(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(s(n),e)},n.buttonHandleClick=function(e){e.preventDefault(),n.props.environment.document.activeElement===n.props.environment.document.body&&e.target.focus(),n.internalSetTimeout((function(){return n.toggleMenu({type:Ce})}))},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout((function(){n.isMouseDown||null!=n.props.environment.document.activeElement&&n.props.environment.document.activeElement.id===n.inputId||n.props.environment.document.activeElement===t||n.reset({type:Oe})}))},n.getLabelProps=function(e){return u({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,i=t.onKeyDown,o=t.onBlur,s=t.onChange,l=t.onInput;t.onChangeText;var a=r(t,Ke),d={};var c,p=n.getState(),f=p.inputValue,g=p.isOpen,h=p.highlightedIndex;a.disabled||((c={}).onInput=J(s,l,n.inputHandleChange),c.onKeyDown=J(i,n.inputHandleKeyDown),c.onBlur=J(o,n.inputHandleBlur),d=c);return u({"aria-autocomplete":"list","aria-activedescendant":g&&"number"==typeof h&&h>=0?n.getItemId(h):null,"aria-controls":g?n.menuId:null,"aria-labelledby":n.labelId,autoComplete:"off",value:f,id:n.inputId},d,a)},n.inputHandleKeyDown=function(e){var t=ue(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(s(n),e)},n.inputHandleChange=function(e){n.internalSetState({type:Se,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout((function(){var e=n.props.environment.document&&!!n.props.environment.document.activeElement&&!!n.props.environment.document.activeElement.dataset&&n.props.environment.document.activeElement.dataset.toggle&&n._rootNode&&n._rootNode.contains(n.props.environment.document.activeElement);n.isMouseDown||e||n.reset({type:we})}))},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var i,o=void 0===e?{}:e,s=o.refKey,l=void 0===s?"ref":s,a=o.ref,d=r(o,Pe),c=(void 0===t?{}:t).suppressRefError,p=void 0!==c&&c;return n.getMenuProps.called=!0,n.getMenuProps.refKey=l,n.getMenuProps.suppressRefError=p,u(((i={})[l]=Q(a,n.menuRef),i.role="listbox",i["aria-labelledby"]=d&&d["aria-label"]?null:n.labelId,i.id=n.menuId,i),d)},n.getItemProps=function(e){var t,i=void 0===e?{}:e,o=i.onMouseMove,s=i.onMouseDown,l=i.onClick;i.onPress;var a=i.index,d=i.item,c=void 0===d?void 0:d,p=r(i,Te);void 0===a?(n.items.push(c),a=n.items.indexOf(c)):n.items[a]=c;var f=l,g=((t={onMouseMove:J(o,(function(){a!==n.getState().highlightedIndex&&(n.setHighlightedIndex(a,{type:ge}),n.avoidScrolling=!0,n.internalSetTimeout((function(){return n.avoidScrolling=!1}),250))})),onMouseDown:J(s,(function(e){e.preventDefault()}))}).onClick=J(f,(function(){n.selectItemAtIndex(a,{type:be})})),t),h=p.disabled?{onMouseDown:g.onMouseDown}:g;return u({id:n.getItemId(a),role:"option","aria-selected":n.getState().highlightedIndex===a},h,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=ie(e),n.internalSetState((function(t){var i=t.selectedItem;return u({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(i)},e)}),t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=ie(e),n.internalSetState((function(t){var i=t.isOpen;return u({isOpen:!i},i&&{highlightedIndex:n.props.defaultHighlightedIndex},e)}),(function(){var i=n.getState(),o=i.isOpen,r=i.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof r&&n.setHighlightedIndex(r,e),z(t)()}))},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=G((function(){var e=n.getState(),t=n.items[e.highlightedIndex],i=n.getItemCount(),o=n.props.getA11yStatusMessage(u({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:i,highlightedItem:t},e));n.previousResultCount=i,ce(o,n.props.environment.document)}),200);var i=n.props,o=i.defaultHighlightedIndex,l=i.initialHighlightedIndex,a=void 0===l?o:l,d=i.defaultIsOpen,c=i.initialIsOpen,p=void 0===c?d:c,f=i.initialInputValue,g=void 0===f?"":f,h=i.initialSelectedItem,m=void 0===h?null:h,I=n.getState({highlightedIndex:a,isOpen:p,inputValue:g,selectedItem:m});return null!=I.selectedItem&&void 0===n.props.initialInputValue&&(I.inputValue=n.props.itemToString(I.selectedItem)),n.state=I,n}i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,l(n,i);var a=o.prototype;return a.internalClearTimeouts=function(){this.timeoutIds.forEach((function(e){clearTimeout(e)})),this.timeoutIds=[]},a.getState=function(e){return void 0===e&&(e=this.state),oe(e,this.props)},a.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},a.getItemNodeFromIndex=function(e){return this.props.environment.document.getElementById(this.getItemId(e))},a.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},a.moveHighlightedIndex=function(e,t){var n=this,i=this.getItemCount(),o=this.getState().highlightedIndex;if(i>0){var r=se(e,o,i,(function(e){return n.getItemNodeFromIndex(e)}));this.setHighlightedIndex(r,t)}},a.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,i=e.selectedItem,o=e.isOpen,r=this.props.itemToString,u=this.id,s=this.getRootProps,l=this.getToggleButtonProps,a=this.getLabelProps,d=this.getMenuProps,c=this.getInputProps,p=this.getItemProps,f=this.openMenu,g=this.closeMenu,h=this.toggleMenu,m=this.selectItem,I=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,x=this.clearSelection,b=this.clearItems;return{getRootProps:s,getToggleButtonProps:l,getLabelProps:a,getMenuProps:d,getInputProps:c,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:g,toggleMenu:h,selectItem:m,selectItemAtIndex:I,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:x,clearItems:b,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:r,id:u,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:i}},a.componentDidMount=function(){var e=this,t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!ae(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},i=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},r=function(t){var n=ae(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},(function(){return e.props.onOuterClick(e.getStateAndHelpers())}))},u=this.props.environment;u.addEventListener("mousedown",t),u.addEventListener("mouseup",n),u.addEventListener("touchstart",i),u.addEventListener("touchmove",o),u.addEventListener("touchend",r),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),u.removeEventListener("mousedown",t),u.removeEventListener("mouseup",n),u.removeEventListener("touchstart",i),u.removeEventListener("touchmove",o),u.removeEventListener("touchend",r)}},a.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,i=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==i},a.componentDidUpdate=function(e,t){re(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},a.componentWillUnmount=function(){this.cleanup()},a.render=function(){var e=te(this.props.children,q);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var n=te(e(this.getStateAndHelpers()));return n?this.getRootProps.called||this.props.suppressRefError?n:function(e){return"string"==typeof e.type||"string"==typeof e.nodeName}(n)?t.cloneElement(n,this.getRootProps(function(e){return e.props||e.attributes}(n))):void 0:null},o}(t.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:ee,itemToString:function(e){return null==e?"":String(e)},onStateChange:q,onInputValueChange:q,onUserAction:q,onChange:q,onSelect:q,onOuterClick:q,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?{}:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:X},e.stateChangeTypes=Me,e}(),He=Re,Fe=["isInitialMount","highlightedIndex","items","environment"],Ve={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Ne(e,t,n){var i=e.props,o=e.type,r={};Object.keys(t).forEach((function(i){!function(e,t,n,i){var o=t.props,r=t.type,s="on"+je(e)+"Change";o[s]&&void 0!==i[e]&&i[e]!==n[e]&&o[s](u({type:r},i))}(i,e,t,n),n[i]!==t[i]&&(r[i]=n[i])})),i.onStateChange&&Object.keys(r).length&&i.onStateChange(u({type:o},r))}var Ae=G((function(e,t){ce(e(),t)}),200),Be="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function Le(e){var n=e.id,i=void 0===n?"downshift-"+Z():n,o=e.labelId,r=e.menuId,u=e.getItemId,s=e.toggleButtonId,l=e.inputId;return t.useRef({labelId:o||i+"-label",menuId:r||i+"-menu",getItemId:u||function(e){return i+"-item-"+e},toggleButtonId:s||i+"-toggle-button",inputId:l||i+"-input"}).current}function _e(e,t,n){return void 0!==e?e:0===n.length?-1:n.indexOf(t)}function je(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Ue(e){var n=t.useRef(e);return n.current=e,n}function $e(e,n,i){var o=t.useRef(),r=t.useRef(),s=t.useCallback((function(t,n){r.current=n,t=oe(t,n.props);var i=e(t,n);return n.props.stateReducer(t,u({},n,{changes:i}))}),[e]),l=t.useReducer(s,n),a=l[0],d=l[1],c=Ue(i),p=t.useCallback((function(e){return d(u({props:c.current},e))}),[c]),f=r.current;return t.useEffect((function(){f&&o.current&&o.current!==a&&Ne(f,oe(o.current,f.props),a),o.current=a}),[a,i,f]),[a,p]}function We(e,t,n){var i=$e(e,t,n),o=i[0],r=i[1];return[oe(o,n),r]}var ze={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:X,environment:"undefined"==typeof window?{}:window};function qe(e,t,n){void 0===n&&(n=Ve);var i=e["default"+je(t)];return void 0!==i?i:n[t]}function Xe(e,t,n){void 0===n&&(n=Ve);var i=e[t];if(void 0!==i)return i;var o=e["initial"+je(t)];return void 0!==o?o:qe(e,t,n)}function Ye(e){var t=Xe(e,"selectedItem"),n=Xe(e,"isOpen"),i=Xe(e,"highlightedIndex"),o=Xe(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.indexOf(t):i,isOpen:n,selectedItem:t,inputValue:o}}function Ge(e,t,n){var i=e.items,o=e.initialHighlightedIndex,r=e.defaultHighlightedIndex,u=t.selectedItem,s=t.highlightedIndex;return 0===i.length?-1:void 0!==o&&s===o?o:void 0!==r?r:u?i.indexOf(u):0===n?-1:n<0?i.length-1:0}function Je(e,n,i,o){var r=t.useRef({isMouseDown:!1,isTouchMove:!1});return t.useEffect((function(){var t=function(){r.current.isMouseDown=!0},u=function(t){r.current.isMouseDown=!1,e&&!ae(t.target,n.map((function(e){return e.current})),i)&&o()},s=function(){r.current.isTouchMove=!1},l=function(){r.current.isTouchMove=!0},a=function(t){!e||r.current.isTouchMove||ae(t.target,n.map((function(e){return e.current})),i,!1)||o()};return i.addEventListener("mousedown",t),i.addEventListener("mouseup",u),i.addEventListener("touchstart",s),i.addEventListener("touchmove",l),i.addEventListener("touchend",a),function(){i.removeEventListener("mousedown",t),i.removeEventListener("mouseup",u),i.removeEventListener("touchstart",s),i.removeEventListener("touchmove",l),i.removeEventListener("touchend",a)}}),[e,i]),r}var Qe=function(){return q};function Ze(e,n,i){var o=i.isInitialMount,s=i.highlightedIndex,l=i.items,a=i.environment,d=r(i,Fe);t.useEffect((function(){o||Ae((function(){return e(u({highlightedIndex:s,highlightedItem:l[s],resultCount:l.length},d))}),a.document)}),n)}function et(e){var n=e.highlightedIndex,i=e.isOpen,o=e.itemRefs,r=e.getItemNodeFromIndex,u=e.menuElement,s=e.scrollIntoView,l=t.useRef(!0);return Be((function(){n<0||!i||!Object.keys(o.current).length||(!1===l.current?l.current=!0:s(r(n),u))}),[n]),l}var tt=q;function nt(e,t,n){var i,o=t.type,r=t.props;switch(o){case n.ItemMouseMove:i={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:i={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Ge(r,e,0)};break;case n.FunctionOpenMenu:i={isOpen:!0,highlightedIndex:Ge(r,e,0)};break;case n.FunctionCloseMenu:i={isOpen:!1};break;case n.FunctionSetHighlightedIndex:i={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:i={inputValue:t.inputValue};break;case n.FunctionReset:i={highlightedIndex:qe(r,"highlightedIndex"),isOpen:qe(r,"isOpen"),selectedItem:qe(r,"selectedItem"),inputValue:qe(r,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return u({},e,i)}var it=function(){return it=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},it.apply(this,arguments)};o.default.array.isRequired,o.default.func,o.default.func,o.default.func,o.default.number,o.default.number,o.default.number,o.default.bool,o.default.bool,o.default.bool,o.default.any,o.default.any,o.default.any,o.default.string,o.default.string,o.default.string,o.default.func,o.default.string,o.default.func,o.default.func,o.default.func,o.default.func,o.default.func,o.default.shape({addEventListener:o.default.func,removeEventListener:o.default.func,document:o.default.shape({getElementById:o.default.func,activeElement:o.default.any,body:o.default.any})});var ot=it(it({},ze),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}}),rt=q,ut=0,st=1,lt=2,at=3,dt=4,ct=5,pt=6,ft=7,gt=8,ht=9,mt=10,It=11,vt=12,yt=13,xt=14,bt=15,wt=16,St=17,kt=18,Ct=19,Ot=20,Mt=21,Dt=Object.freeze({__proto__:null,ToggleButtonClick:ut,ToggleButtonKeyDownArrowDown:st,ToggleButtonKeyDownArrowUp:lt,ToggleButtonKeyDownCharacter:at,ToggleButtonKeyDownEscape:dt,ToggleButtonKeyDownHome:ct,ToggleButtonKeyDownEnd:pt,ToggleButtonKeyDownEnter:ft,ToggleButtonKeyDownSpaceButton:gt,ToggleButtonKeyDownPageUp:ht,ToggleButtonKeyDownPageDown:mt,ToggleButtonBlur:It,MenuMouseLeave:vt,ItemMouseMove:yt,ItemClick:xt,FunctionToggleMenu:bt,FunctionOpenMenu:wt,FunctionCloseMenu:St,FunctionSetHighlightedIndex:kt,FunctionSelectItem:Ct,FunctionSetInputValue:Ot,FunctionReset:Mt});function Et(e,t){var n,i=t.type,o=t.props,r=t.altKey;switch(i){case xt:n={isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex"),selectedItem:o.items[t.index]};break;case at:var s=t.key,l=""+e.inputValue+s,a=function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,o=e.itemToString,r=e.getItemNodeFromIndex,u=t.toLowerCase(),s=0;s<i.length;s++){var l=(s+n+(t.length<2?1:0))%i.length,a=i[l];if(void 0!==a&&o(a).toLowerCase().startsWith(u)){var d=r(l);if(!(null==d?void 0:d.hasAttribute("disabled")))return l}}return n}({keysSoFar:l,highlightedIndex:!e.isOpen&&e.selectedItem?o.items.indexOf(e.selectedItem):e.highlightedIndex,items:o.items,itemToString:o.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});n={inputValue:l,highlightedIndex:a,isOpen:!0};break;case st:n={highlightedIndex:e.isOpen?se(1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1):r&&null==e.selectedItem?-1:Ge(o,e,1),isOpen:!0};break;case lt:if(e.isOpen&&r)n=u({isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex]});else n={highlightedIndex:e.isOpen?se(-1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1):Ge(o,e,-1),isOpen:!0};break;case ft:case gt:n=u({isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex]});break;case ct:n={highlightedIndex:le(1,0,o.items.length,t.getItemNodeFromIndex,!1),isOpen:!0};break;case pt:n={highlightedIndex:le(-1,o.items.length-1,o.items.length,t.getItemNodeFromIndex,!1),isOpen:!0};break;case ht:n={highlightedIndex:se(-10,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1)};break;case mt:n={highlightedIndex:se(10,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1)};break;case dt:n={isOpen:!1,highlightedIndex:-1};break;case It:n=u({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex]});break;case Ct:n={selectedItem:t.selectedItem};break;default:return nt(e,t,Dt)}return u({},e,n)}var Kt=["onMouseLeave","refKey","onKeyDown","onBlur","ref"],Pt=["onBlur","onClick","onKeyDown","refKey","ref"],Tt=["item","index","onMouseMove","onClick","refKey","ref","disabled"];function Rt(e){void 0===e&&(e={}),rt();var n=u({},ot,e),i=n.items,o=n.scrollIntoView,s=n.environment,l=n.itemToString,a=n.getA11ySelectionMessage,d=n.getA11yStatusMessage,c=We(Et,Ye(n),n),p=c[0],f=c[1],g=p.isOpen,h=p.highlightedIndex,m=p.selectedItem,I=p.inputValue,v=t.useRef(null),y=t.useRef(null),x=t.useRef({}),b=t.useRef(null),w=Le(n),S=t.useRef(),k=t.useRef(!0),C=Ue({state:p,props:n}),O=t.useCallback((function(e){return x.current[w.getItemId(e)]}),[w]);Ze(d,[g,h,I,i],u({isInitialMount:k.current,previousResultCount:S.current,items:i,environment:s,itemToString:l},p)),Ze(a,[m],u({isInitialMount:k.current,previousResultCount:S.current,items:i,environment:s,itemToString:l},p));var M=et({menuElement:y.current,highlightedIndex:h,isOpen:g,itemRefs:x,scrollIntoView:o,getItemNodeFromIndex:O});t.useEffect((function(){return b.current=G((function(e){e({type:Ot,inputValue:""})}),500),function(){b.current.cancel()}}),[]),t.useEffect((function(){I&&b.current(f)}),[f,I]),tt({isInitialMount:k.current,props:n,state:p}),t.useEffect((function(){k.current||(S.current=i.length)}));var D=Je(g,[y,v],s,(function(){f({type:It})})),E=Qe();t.useEffect((function(){return k.current=!1,function(){k.current=!0}}),[]),t.useEffect((function(){g||(x.current={})}),[g]);var K=t.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),f({type:st,getItemNodeFromIndex:O,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),f({type:lt,getItemNodeFromIndex:O,altKey:e.altKey})},Home:function(e){e.preventDefault(),f({type:ct,getItemNodeFromIndex:O})},End:function(e){e.preventDefault(),f({type:pt,getItemNodeFromIndex:O})},Escape:function(){C.current.state.isOpen&&f({type:dt})},Enter:function(e){e.preventDefault(),f({type:C.current.state.isOpen?ft:ut})},PageUp:function(e){C.current.state.isOpen&&(e.preventDefault(),f({type:ht,getItemNodeFromIndex:O}))},PageDown:function(e){C.current.state.isOpen&&(e.preventDefault(),f({type:mt,getItemNodeFromIndex:O}))}," ":function(e){e.preventDefault();var t=C.current.state;t.isOpen?t.inputValue?f({type:at,key:" ",getItemNodeFromIndex:O}):f({type:gt}):f({type:ut})}}}),[f,O,C]),P=t.useCallback((function(){f({type:bt})}),[f]),T=t.useCallback((function(){f({type:St})}),[f]),R=t.useCallback((function(){f({type:wt})}),[f]),H=t.useCallback((function(e){f({type:kt,highlightedIndex:e})}),[f]),F=t.useCallback((function(e){f({type:Ct,selectedItem:e})}),[f]),V=t.useCallback((function(){f({type:Mt})}),[f]),N=t.useCallback((function(e){f({type:Ot,inputValue:e})}),[f]),A=t.useCallback((function(e){return u({id:w.labelId,htmlFor:w.toggleButtonId},e)}),[w]),B=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,o=i.onMouseLeave,s=i.refKey,l=void 0===s?"ref":s;i.onKeyDown,i.onBlur;var a=i.ref,d=r(i,Kt),c=(void 0===t?{}:t).suppressRefError;return E("getMenuProps",void 0!==c&&c,l,y),u(((n={})[l]=Q(a,(function(e){y.current=e})),n.id=w.menuId,n.role="listbox",n["aria-labelledby"]=w.labelId,n.tabIndex=-1,n.onMouseLeave=J(o,(function(){f({type:vt})})),n),d)}),[f,E,w]);return{getToggleButtonProps:t.useCallback((function(e,t){var n,i=void 0===e?{}:e,o=i.onBlur,s=i.onClick,l=i.onKeyDown,a=i.refKey,d=void 0===a?"ref":a,c=i.ref,p=r(i,Pt),g=(void 0===t?{}:t).suppressRefError,h=void 0!==g&&g,m=C.current.state,I=u(((n={})[d]=Q(c,(function(e){v.current=e})),n["aria-activedescendant"]=m.isOpen&&m.highlightedIndex>-1?w.getItemId(m.highlightedIndex):"",n["aria-controls"]=w.menuId,n["aria-expanded"]=C.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=""+w.labelId,n.id=w.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=J(o,(function(){m.isOpen&&!D.current.isMouseDown&&f({type:It})})),n),p);return p.disabled||(I.onClick=J(s,(function(){f({type:ut})})),I.onKeyDown=J(l,(function(e){var t=ue(e);t&&K[t]?K[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&f({type:at,key:t,getItemNodeFromIndex:O})}))),E("getToggleButtonProps",h,d,v),I}),[C,w,E,f,D,K,O]),getLabelProps:A,getMenuProps:B,getItemProps:t.useCallback((function(e){var t,n=void 0===e?{}:e,o=n.item,s=n.index,l=n.onMouseMove,a=n.onClick,d=n.refKey,c=void 0===d?"ref":d,p=n.ref,g=n.disabled,h=r(n,Tt),I=C.current,v=I.state,y=I.props,b=null!=o?o:i[s],S=_e(s,b,y.items),k=_e(S,b,y.items);if(k<0)throw new Error("Pass either item or item index in getItemProps!");var O=u(((t={disabled:g,role:"option","aria-selected":""+(b===m),id:w.getItemId(k)})[c]=Q(p,(function(e){e&&(x.current[w.getItemId(k)]=e)})),t),h);return g||(O.onClick=J(a,(function(){f({type:xt,index:S})}))),O.onMouseMove=J(l,(function(){S!==v.highlightedIndex&&(M.current=!1,f({type:yt,index:S,disabled:g}))})),O}),[C,i,m,w,M,f]),toggleMenu:P,openMenu:R,closeMenu:T,setHighlightedIndex:H,selectItem:F,reset:V,setInputValue:N,highlightedIndex:h,isOpen:g,selectedItem:m,inputValue:I}}Rt.stateChangeTypes=Dt;var Ht=0,Ft=1,Vt=2,Nt=3,At=4,Bt=5,Lt=6,_t=7,jt=8,Ut=9,$t=10,Wt=11,zt=12,qt=13,Xt=14,Yt=15,Gt=16,Jt=17,Qt=18,Zt=19,en=20,tn=21,nn=22,on=Object.freeze({__proto__:null,InputKeyDownArrowDown:Ht,InputKeyDownArrowUp:Ft,InputKeyDownEscape:Vt,InputKeyDownHome:Nt,InputKeyDownEnd:At,InputKeyDownPageUp:Bt,InputKeyDownPageDown:Lt,InputKeyDownEnter:_t,InputChange:jt,InputBlur:Ut,InputFocus:$t,MenuMouseLeave:Wt,ItemMouseMove:zt,ItemClick:qt,ToggleButtonClick:Xt,FunctionToggleMenu:Yt,FunctionOpenMenu:Gt,FunctionCloseMenu:Jt,FunctionSetHighlightedIndex:Qt,FunctionSelectItem:Zt,FunctionSetInputValue:en,FunctionReset:tn,ControlledPropUpdatedSelectedItem:nn});o.default.array.isRequired,o.default.func,o.default.func,o.default.func,o.default.number,o.default.number,o.default.number,o.default.bool,o.default.bool,o.default.bool,o.default.any,o.default.any,o.default.any,o.default.string,o.default.string,o.default.string,o.default.string,o.default.string,o.default.string,o.default.func,o.default.string,o.default.string,o.default.func,o.default.func,o.default.func,o.default.func,o.default.func,o.default.func,o.default.shape({addEventListener:o.default.func,removeEventListener:o.default.func,document:o.default.shape({getElementById:o.default.func,activeElement:o.default.any,body:o.default.any})});var rn=q,un=u({},ze,{getA11yStatusMessage:ee});function sn(e,t){var n,i=t.type,o=t.props,r=t.altKey;switch(i){case qt:n={isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex"),selectedItem:o.items[t.index],inputValue:o.itemToString(o.items[t.index])};break;case Ht:n=e.isOpen?{highlightedIndex:se(1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:r&&null==e.selectedItem?-1:Ge(o,e,1,t.getItemNodeFromIndex),isOpen:o.items.length>=0};break;case Ft:n=e.isOpen?r?u({isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])}):{highlightedIndex:se(-1,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:Ge(o,e,-1,t.getItemNodeFromIndex),isOpen:o.items.length>=0};break;case _t:n=u({isOpen:qe(o,"isOpen"),highlightedIndex:qe(o,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case Vt:n=u({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Bt:n={highlightedIndex:se(-10,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1)};break;case Lt:n={highlightedIndex:se(10,e.highlightedIndex,o.items.length,t.getItemNodeFromIndex,!1)};break;case Nt:n={highlightedIndex:le(1,0,o.items.length,t.getItemNodeFromIndex,!1)};break;case At:n={highlightedIndex:le(-1,o.items.length-1,o.items.length,t.getItemNodeFromIndex,!1)};break;case Ut:n=u({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case jt:n={isOpen:!0,highlightedIndex:qe(o,"highlightedIndex"),inputValue:t.inputValue};break;case $t:n={isOpen:!0,highlightedIndex:Ge(o,e,0)};break;case Zt:n={selectedItem:t.selectedItem,inputValue:o.itemToString(t.selectedItem)};break;case nn:n={inputValue:t.inputValue};break;default:return nt(e,t,on)}return u({},e,n)}var ln=["onMouseLeave","refKey","ref"],an=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],dn=["onClick","onPress","refKey","ref"],cn=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];function pn(e){void 0===e&&(e={}),rn();var n=u({},un,e),i=n.initialIsOpen,o=n.defaultIsOpen,s=n.items,l=n.scrollIntoView,a=n.environment,d=n.getA11yStatusMessage,c=n.getA11ySelectionMessage,p=n.itemToString,f=function(e){var t=Ye(e),n=t.selectedItem,i=t.inputValue;return""===i&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(i=e.itemToString(n)),u({},t,{inputValue:i})}(n),g=function(e,n,i){var o=t.useRef(),r=$e(e,n,i),u=r[0],s=r[1];return t.useEffect((function(){re(i,"selectedItem")&&(o.current!==i.selectedItem&&s({type:nn,inputValue:i.itemToString(i.selectedItem)}),o.current=u.selectedItem===o.current?i.selectedItem:u.selectedItem)})),[oe(u,i),s]}(sn,f,n),h=g[0],m=g[1],I=h.isOpen,v=h.highlightedIndex,y=h.selectedItem,x=h.inputValue,b=t.useRef(null),w=t.useRef({}),S=t.useRef(null),k=t.useRef(null),C=t.useRef(!0),O=Le(n),M=t.useRef(),D=Ue({state:h,props:n}),E=t.useCallback((function(e){return w.current[O.getItemId(e)]}),[O]);Ze(d,[I,v,x,s],u({isInitialMount:C.current,previousResultCount:M.current,items:s,environment:a,itemToString:p},h)),Ze(c,[y],u({isInitialMount:C.current,previousResultCount:M.current,items:s,environment:a,itemToString:p},h));var K=et({menuElement:b.current,highlightedIndex:v,isOpen:I,itemRefs:w,scrollIntoView:l,getItemNodeFromIndex:E});tt({isInitialMount:C.current,props:n,state:h}),t.useEffect((function(){(i||o||I)&&S.current&&S.current.focus()}),[]),t.useEffect((function(){C.current||(M.current=s.length)}));var P=Je(I,[S,b,k],a,(function(){m({type:Ut,selectItem:!1})})),T=Qe();t.useEffect((function(){return C.current=!1,function(){C.current=!0}}),[]),t.useEffect((function(){if(I){if(document.activeElement!==S.current){var e;null==S||null==(e=S.current)||e.focus()}}else w.current={}}),[I]);var R=t.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),m({type:Ht,altKey:e.altKey,getItemNodeFromIndex:E})},ArrowUp:function(e){e.preventDefault(),m({type:Ft,altKey:e.altKey,getItemNodeFromIndex:E})},Home:function(e){D.current.state.isOpen&&(e.preventDefault(),m({type:Nt,getItemNodeFromIndex:E}))},End:function(e){D.current.state.isOpen&&(e.preventDefault(),m({type:At,getItemNodeFromIndex:E}))},Escape:function(e){var t=D.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),m({type:Vt}))},Enter:function(e){D.current.state.isOpen&&229!==e.which&&(e.preventDefault(),m({type:_t,getItemNodeFromIndex:E}))},PageUp:function(e){D.current.state.isOpen&&(e.preventDefault(),m({type:Bt,getItemNodeFromIndex:E}))},PageDown:function(e){D.current.state.isOpen&&(e.preventDefault(),m({type:Lt,getItemNodeFromIndex:E}))}}}),[m,D,E]),H=t.useCallback((function(e){return u({id:O.labelId,htmlFor:O.inputId},e)}),[O]),F=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,o=i.onMouseLeave,s=i.refKey,l=void 0===s?"ref":s,a=i.ref,d=r(i,ln),c=(void 0===t?{}:t).suppressRefError;return T("getMenuProps",void 0!==c&&c,l,b),u(((n={})[l]=Q(a,(function(e){b.current=e})),n.id=O.menuId,n.role="listbox",n["aria-labelledby"]=O.labelId,n.onMouseLeave=J(o,(function(){m({type:Wt})})),n),d)}),[m,T,O]),V=t.useCallback((function(e){var t,n,i=void 0===e?{}:e,o=i.item,s=i.index,l=i.refKey,a=void 0===l?"ref":l,d=i.ref,c=i.onMouseMove,p=i.onMouseDown,f=i.onClick;i.onPress;var g=i.disabled,h=r(i,an),I=D.current,v=I.props,y=I.state,x=_e(s,o,v.items);if(x<0)throw new Error("Pass either item or item index in getItemProps!");var b=f;return u(((t={})[a]=Q(d,(function(e){e&&(w.current[O.getItemId(x)]=e)})),t.disabled=g,t.role="option",t["aria-selected"]=""+(x===y.highlightedIndex),t.id=O.getItemId(x),t),!g&&((n={}).onClick=J(b,(function(){m({type:qt,index:s})})),n),{onMouseMove:J(c,(function(){s!==y.highlightedIndex&&(K.current=!1,m({type:zt,index:s,disabled:g}))})),onMouseDown:J(p,(function(e){return e.preventDefault()}))},h)}),[m,D,K,O]),N=t.useCallback((function(e){var t,n=void 0===e?{}:e,i=n.onClick;n.onPress;var o=n.refKey,s=void 0===o?"ref":o,l=n.ref,a=r(n,dn),d=D.current.state;return u(((t={})[s]=Q(l,(function(e){k.current=e})),t["aria-controls"]=O.menuId,t["aria-expanded"]=d.isOpen,t.id=O.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&u({},{onClick:J(i,(function(){m({type:Xt})}))}),a)}),[m,D,O]),A=t.useCallback((function(e,t){var n,i=void 0===e?{}:e,o=i.onKeyDown,s=i.onChange,l=i.onInput,a=i.onFocus,d=i.onBlur;i.onChangeText;var c=i.refKey,p=void 0===c?"ref":c,f=i.ref,g=r(i,cn),h=(void 0===t?{}:t).suppressRefError;T("getInputProps",void 0!==h&&h,p,S);var I,v=D.current.state,y={};g.disabled||((I={}).onInput=J(s,l,(function(e){m({type:jt,inputValue:e.target.value})})),I.onKeyDown=J(o,(function(e){var t=ue(e);t&&R[t]&&R[t](e)})),I.onBlur=J(d,(function(){v.isOpen&&!P.current.isMouseDown&&m({type:Ut,selectItem:!0})})),I.onFocus=J(a,(function(){v.isOpen||m({type:$t})})),y=I);return u(((n={})[p]=Q(f,(function(e){S.current=e})),n["aria-activedescendant"]=v.isOpen&&v.highlightedIndex>-1?O.getItemId(v.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=O.menuId,n["aria-expanded"]=v.isOpen,n["aria-labelledby"]=O.labelId,n.autoComplete="off",n.id=O.inputId,n.role="combobox",n.value=v.inputValue,n),y,g)}),[m,R,D,P,T,O]),B=t.useCallback((function(){m({type:Yt})}),[m]),L=t.useCallback((function(){m({type:Jt})}),[m]),_=t.useCallback((function(){m({type:Gt})}),[m]),j=t.useCallback((function(e){m({type:Qt,highlightedIndex:e})}),[m]),U=t.useCallback((function(e){m({type:Zt,selectedItem:e})}),[m]);return{getItemProps:V,getLabelProps:H,getMenuProps:F,getInputProps:A,getToggleButtonProps:N,toggleMenu:B,openMenu:_,closeMenu:L,setHighlightedIndex:j,setInputValue:t.useCallback((function(e){m({type:en,inputValue:e})}),[m]),selectItem:U,reset:t.useCallback((function(){m({type:tn})}),[m]),highlightedIndex:v,isOpen:I,selectedItem:y,inputValue:x}}pn.stateChangeTypes=on;var fn={activeIndex:-1,selectedItems:[]};function gn(e,t){return Xe(e,t,fn)}function hn(e,t){return qe(e,t,fn)}function mn(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}o.default.array,o.default.array,o.default.array,o.default.func,o.default.func,o.default.func,o.default.number,o.default.number,o.default.number,o.default.func,o.default.func,o.default.string,o.default.string,o.default.shape({addEventListener:o.default.func,removeEventListener:o.default.func,document:o.default.shape({getElementById:o.default.func,activeElement:o.default.any,body:o.default.any})});var In={itemToString:ze.itemToString,stateReducer:ze.stateReducer,environment:ze.environment,getA11yRemovalMessage:function(e){var t=e.removedSelectedItem;return(0,e.itemToString)(t)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},vn=q,yn=0,xn=1,bn=2,wn=3,Sn=4,kn=5,Cn=6,On=7,Mn=8,Dn=9,En=10,Kn=11,Pn=12,Tn=Object.freeze({__proto__:null,SelectedItemClick:yn,SelectedItemKeyDownDelete:xn,SelectedItemKeyDownBackspace:bn,SelectedItemKeyDownNavigationNext:wn,SelectedItemKeyDownNavigationPrevious:Sn,DropdownKeyDownNavigationPrevious:kn,DropdownKeyDownBackspace:Cn,DropdownClick:On,FunctionAddSelectedItem:Mn,FunctionRemoveSelectedItem:Dn,FunctionSetSelectedItems:En,FunctionSetActiveIndex:Kn,FunctionReset:Pn});function Rn(e,t){var n,i=t.type,o=t.index,r=t.props,s=t.selectedItem,l=e.activeIndex,a=e.selectedItems;switch(i){case yn:n={activeIndex:o};break;case Sn:n={activeIndex:l-1<0?0:l-1};break;case wn:n={activeIndex:l+1>=a.length?-1:l+1};break;case bn:case xn:if(l<0)break;var d=l;1===a.length?d=-1:l===a.length-1&&(d=a.length-2),n=u({selectedItems:[].concat(a.slice(0,l),a.slice(l+1))},{activeIndex:d});break;case kn:n={activeIndex:a.length-1};break;case Cn:n={selectedItems:a.slice(0,a.length-1)};break;case Mn:n={selectedItems:[].concat(a,[s])};break;case On:n={activeIndex:-1};break;case Dn:var c=l,p=a.indexOf(s);if(p<0)break;1===a.length?c=-1:p===a.length-1&&(c=a.length-2),n={selectedItems:[].concat(a.slice(0,p),a.slice(p+1)),activeIndex:c};break;case En:n={selectedItems:t.selectedItems};break;case Kn:n={activeIndex:t.activeIndex};break;case Pn:n={activeIndex:hn(r,"activeIndex"),selectedItems:hn(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return u({},e,n)}var Hn=["refKey","ref","onClick","onKeyDown","selectedItem","index"],Fn=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function Vn(e){void 0===e&&(e={}),vn();var n=u({},In,e),i=n.getA11yRemovalMessage,o=n.itemToString,s=n.environment,l=n.keyNavigationNext,a=n.keyNavigationPrevious,d=We(Rn,function(e){return{activeIndex:gn(e,"activeIndex"),selectedItems:gn(e,"selectedItems")}}(n),n),c=d[0],p=d[1],f=c.activeIndex,g=c.selectedItems,h=t.useRef(!0),m=t.useRef(null),I=t.useRef(g),v=t.useRef();v.current=[];var y=Ue({state:c,props:n});t.useEffect((function(){if(!h.current){if(g.length<I.current.length){var e=I.current.find((function(e){return g.indexOf(e)<0}));ce(i({itemToString:o,resultCount:g.length,removedSelectedItem:e,activeIndex:f,activeSelectedItem:g[f]}),s.document)}I.current=g}}),[g.length]),t.useEffect((function(){h.current||(-1===f&&m.current?m.current.focus():v.current[f]&&v.current[f].focus())}),[f]),tt({isInitialMount:h.current,props:n,state:c});var x=Qe();t.useEffect((function(){return h.current=!1,function(){h.current=!0}}),[]);var b=t.useMemo((function(){var e;return(e={})[a]=function(){p({type:Sn})},e[l]=function(){p({type:wn})},e.Delete=function(){p({type:xn})},e.Backspace=function(){p({type:bn})},e}),[p,l,a]),w=t.useMemo((function(){var e;return(e={})[a]=function(e){mn(e)&&p({type:kn})},e.Backspace=function(e){mn(e)&&p({type:Cn})},e}),[p,a]);return{getSelectedItemProps:t.useCallback((function(e){var t,n=void 0===e?{}:e,i=n.refKey,o=void 0===i?"ref":i,s=n.ref,l=n.onClick,a=n.onKeyDown,d=n.selectedItem,c=n.index,f=r(n,Hn),g=y.current.state;if(_e(c,d,g.selectedItems)<0)throw new Error("Pass either selectedItem or index in getSelectedItemProps!");return u(((t={})[o]=Q(s,(function(e){e&&v.current.push(e)})),t.tabIndex=c===g.activeIndex?0:-1,t.onClick=J(l,(function(){p({type:yn,index:c})})),t.onKeyDown=J(a,(function(e){var t=ue(e);t&&b[t]&&b[t](e)})),t),f)}),[p,y,b]),getDropdownProps:t.useCallback((function(e,t){var n,i=void 0===e?{}:e,o=i.refKey,s=void 0===o?"ref":o,l=i.ref,a=i.onKeyDown,d=i.onClick,c=i.preventKeyAction,f=void 0!==c&&c,g=r(i,Fn),h=(void 0===t?{}:t).suppressRefError;return x("getDropdownProps",void 0!==h&&h,s,m),u(((n={})[s]=Q(l,(function(e){e&&(m.current=e)})),n),!f&&{onKeyDown:J(a,(function(e){var t=ue(e);t&&w[t]&&w[t](e)})),onClick:J(d,(function(){p({type:On})}))},g)}),[p,w,x]),addSelectedItem:t.useCallback((function(e){p({type:Mn,selectedItem:e})}),[p]),removeSelectedItem:t.useCallback((function(e){p({type:Dn,selectedItem:e})}),[p]),setSelectedItems:t.useCallback((function(e){p({type:En,selectedItems:e})}),[p]),setActiveIndex:t.useCallback((function(e){p({type:Kn,activeIndex:e})}),[p]),reset:t.useCallback((function(){p({type:Pn})}),[p]),selectedItems:g,activeIndex:f}}Vn.stateChangeTypes=Tn,e.default=He,e.resetIdCounter=function(){W=0},e.useCombobox=pn,e.useMultipleSelection=Vn,e.useSelect=Rt,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=downshift.umd.min.js.map
